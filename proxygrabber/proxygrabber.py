#!/bin/python3 

import requests
import json
import os

url = "https://proxylist.geonode.com/api/proxy-list?limit=500&page=1&sort_by=lastChecked&sort_type=desc"
req = requests.get(url)
res = req.text
json_parse = json.loads(res)

total = len(json_parse["data"])
count = 0
#print("Protocal\tIp address\tport")
while count < total:
	ip = json_parse["data"][count]['ip']
	port = json_parse["data"][count]['port']
	protocal = json_parse["data"][count]['protocols'][0]
	#print(f"{protocal}\t{ip}\t{port}")
	file = open("proxychains4.conf", 'a')
	file.write('\n')
	file.write(f"{protocal}\t{ip}\t{port}")
	file.close
	count = count + 1